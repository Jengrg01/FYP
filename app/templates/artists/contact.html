<style>
  .contact-container {
    font-family: 'Inter', 'Segoe UI', sans-serif;
    display: flex;
    max-width: 1000px;
    width: 100%;
    gap: 0;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
    background-color: white;
  }
  
  .left {
    width: 40%;
    background: linear-gradient(135deg, #e091a9 0%, #eca4a9 100%);
    color: white;
    padding: 2.5rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  
  .left h2 {
    font-size: 2.25rem;
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 1rem;
  }
  
  .left p {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.9);
    margin: 1rem 0;
    line-height: 1.6;
  }
  
  .contact-info {
    margin-top: 2rem;
  }
  
  .contact-info a {
    display: flex;
    align-items: center;
    color: white;
    text-decoration: none;
    margin-bottom: 1rem;
    font-size: 1.125rem;
    transition: all 0.2s ease;
    padding: 0.5rem;
    border-radius: 6px;
  }
  
  .contact-info a:hover {
    background-color: rgba(255, 255, 255, 0.15);
  }
  
  .right {
    width: 60%;
    padding: 2.5rem;
    background-color: #faf5f7;
  }
  
  form {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
  }
  
  .form-group {
    display: flex;
    gap: 1rem;
  }
    input[type="text"]:focus,
    input[type="email"]:focus,
    #topic:focus,
    #message:focus{
    outline: none;
    border-color: #FFB8BD !important;
    box-shadow: 0 0 0 1px #FFB8BD;
  }
  
  input,
  select,
  textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 1px solid #FFB8BD;
    border-radius: 6px;
    font-size: 1rem;
    transition: all 0.2s ease;
    background-color: white;
    color: #334155;
  }
  
  input:focus,
  select:focus,
  textarea:focus {
    outline: none;
    border-color: #e091a9;
    box-shadow: 0 0 0 3px rgba(224, 145, 169, 0.1);
    background-color: white;
  }
  
  input::placeholder,
  select::placeholder,
  textarea::placeholder {
    color: #c4a5b0;
  }
  
  textarea {
    resize: none;
    height: 120px;
    font-family: inherit;
  }
  #message{
      height: 120px;
      resize: none;
      overflow-y: auto;
    }
  
  .sub-btn {
    background: #eca4a9 !important;
    color: white;
    padding: 0.875rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    font-size: 1rem;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
  }
  
  .sub-btn:hover {
    background: #c06c85 !important;
    transform: translateY(-1px);
  }
  
  .sub-btn:active {
    transform: translateY(0);
  }
  
  .error {
    color: #be123c;
    font-size: 0.875rem;
    margin-top: 0.5rem;
  }
  
  /* Add a quote section to the left side */
  .left::after {
    content: '"We believe in creating meaningful connections with our customers. Your feedback helps us grow."';
    display: block;
    margin-top: 3rem;
    font-style: italic;
    color: rgba(255, 255, 255, 0.9);
    padding: 1rem;
    border-radius: 8px;
    background-color: rgba(255, 255, 255, 0.15);
    font-size: 0.95rem;
    line-height: 1.5;
  }
  
  /* Add circular icons for contact info */
  .contact-info a::before {
    content: "";
    display: inline-block;
    width: 36px;
    height: 36px;
    margin-right: 10px;
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    text-align: center;
    line-height: 36px;
  }
  
  .contact-info a[href^="mailto"]::before {
    content: "ðŸ“§";
  }
  
  .contact-info a[href^="tel"]::before {
    content: "ðŸ“ž";
  }
  
  /* Responsive adjustments */
  @media (max-width: 768px) {
    .contact-container {
      flex-direction: column;
      max-width: 95%;
    }
    
    .left, .right {
      width: 100%;
    }
    
    .form-group {
      flex-direction: column;
      gap: 1rem;
    }
  }
</style>
{% extends 'index.html' %}
{% load static %} 

{% block title %}
<title>Lumiere | Contact Us</title>
{% endblock %}

{% block main_content %}
<div class="h-screen flex bg-white justify-center items-center">
  <div class="contact-container">
      <div class="left">
          <h2>Have a question?</h2>
          <p>We're here to help! Fill out the form or reach us via email or phone.</p>
          <div class="contact-info">
              <a href="mailto:jengrg003@gmail.com">jengrg003@gmail.com</a>
              <a href="tel:9808871331">9803430682</a>
          </div>
      </div>
      <div class="right">
        <form id="contactForm">
          <div class="form-group">
              <input type="text" id="firstName" value="{{ user.first_name }}" placeholder="*First Name" disabled />
              <input type="text" id="lastName" value="{{ user.last_name }}" placeholder="*Last Name" disabled />
          </div>
          <input type="email" id="email" value="{{ user.email }}" placeholder="*Email" disabled />
          <input type="text" id="phone" value="{{ current_user.phone_number }}" placeholder="Phone Number" disabled />
          <select id="topic" required>
              <option value="">*Select your topic</option>
              <option value="cash">Cash Related</option>
              <option value="support">Customer Support</option>
              <option value="others">Others</option>
          </select>
          <textarea id="message" placeholder="*Message" required></textarea>
          <button type="submit" class=" sub-btn py-2">Submit</button>
          <p id="errorMessage" class="error"></p>
      </form>
      </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />

  <script>
      (function () {
        emailjs.init("tmU56fYkigd6cMcp-");
      })();

      document
        .getElementById("contactForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          let firstName = document.getElementById("firstName");
          let lastName = document.getElementById("lastName");
          let email = document.getElementById("email").value.trim();
          let phone = document.getElementById("phone").value.trim();
          let topic = document.getElementById("topic").value.trim();
          let message = document.getElementById("message").value.trim();
          let errorMessage = document.getElementById("errorMessage");

          let nameRegex = /^[A-Za-z]+$/;
          let phoneRegex = /^\d{10}$/;
          let errors = [];

          firstName.value =
            firstName.value.charAt(0).toUpperCase() + firstName.value.slice(1);
          lastName.value =
            lastName.value.charAt(0).toUpperCase() + lastName.value.slice(1);

          if (!firstName.value.match(nameRegex)) {
            errors.push("First name must contain only letters.");
          }
          if (!lastName.value.match(nameRegex)) {
            errors.push("Last name must contain only letters.");
          }
          if (phone && !phone.match(phoneRegex)) {
            errors.push("Phone number must be exactly 10 digits.");
          }
          if (
            !firstName.value ||
            !lastName.value ||
            !email ||
            !topic ||
            !message
          ) {
            errors.push("Please fill in all required fields.");
          }
          if (errors.length > 0) {
            errorMessage.textContent = errors.join(" ");
            return;
          } else {
            errorMessage.textContent = "";
          }

          let formData = {
            from_name: firstName.value + " " + lastName.value,
            reply_to: email,
            phone: phone,
            topic: topic,
            message: message,
            to_name: "Jenisha Gurung",
          };

          emailjs.send("service_923cpx6", "template_4grk4um", formData).then(
            function (response) {
              Toastify({
                text: "Email sent successfully!",
                duration: 3000,
                gravity: "top",
                position: "right",
                backgroundColor: "#e091a9",
              }).showToast();
              document.getElementById("contactForm").reset();
            },
            function (error) {
              Toastify({
                text: "Failed to send email. Try again later.",
                duration: 3000,
                gravity: "top",
                position: "right",
                backgroundColor: "#be123c",
              }).showToast();
            }
          );
        });

      function formatName(input) {
        input.value = input.value.replace(/[^A-Za-z]/g, "");
        input.value =
          input.value.charAt(0).toUpperCase() + input.value.slice(1);
      }

      function formatPhone(input) {
        input.value = input.value.replace(/\D/g, "").slice(0, 10);
      }

      document
        .getElementById("firstName")
        .addEventListener("input", function () {
          formatName(this);
        });

      document
        .getElementById("lastName")
        .addEventListener("input", function () {
          formatName(this);
        });

      document.getElementById("phone").addEventListener("input", function () {
        formatPhone(this);
      });
    </script>
</div>
{% endblock %}